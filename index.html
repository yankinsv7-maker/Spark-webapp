<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Spark Auto Check</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root { --bg: #0c0c0e; --card: #1c1c1e; --accent: #007aff; --success: #34c759; --text: #ffffff; --err: #ff3b30; }
        body { background-color: var(--bg); color: var(--text); font-family: -apple-system, sans-serif; margin: 0; padding: 15px; display: flex; flex-direction: column; min-height: 100vh; }
        
        /* –≠–∫—Ä–∞–Ω—ã */
        .screen { display: none; width: 100%; animation: fadeIn 0.3s; }
        .active { display: block !important; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        h2 { text-align: center; margin: 10px 0 20px; font-weight: 800; font-size: 22px; }

        /* –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Å—Ç—Ä–∞–Ω */
        .selector { display: flex; gap: 10px; margin-bottom: 20px; }
        .type-card { flex: 1; background: var(--card); padding: 15px; border-radius: 12px; text-align: center; border: 2px solid transparent; cursor: pointer; transition: 0.2s; }
        .selected-rf { border-color: var(--accent); background: rgba(0,122,255,0.15); }
        .selected-cn { border-color: #ff3b30; background: rgba(255,59,48,0.15); }

        /* –¢–∞—Ä–∏—Ñ—ã */
        .price-item { background: var(--card); padding: 12px 15px; border-radius: 12px; display: flex; justify-content: space-between; align-items: center; border: 1px solid #333; margin-bottom: 8px; cursor: pointer; }
        .price-item.selected { border-color: var(--success); background: rgba(52,199,89,0.1); }
        .price-info b { display: block; font-size: 14px; margin-bottom: 3px; }
        .price-info span { font-size: 11px; color: #8e8e93; }
        .price-tag { color: var(--success); font-weight: 700; font-size: 16px; }

        /* –í–≤–æ–¥ –∏ –ì–∞–ª–æ—á–∫–∞ */
        input[type="text"] { width: 100%; background: var(--card); border: 1px solid #333; padding: 15px; border-radius: 12px; color: #fff; text-align: center; margin: 15px 0; box-sizing: border-box; outline: none; font-size: 16px; text-transform: uppercase; }
        
        .agreement-box { background: rgba(255,255,255,0.05); padding: 12px; border-radius: 10px; margin-bottom: 20px; font-size: 11px; line-height: 1.4; display: flex; gap: 10px; align-items: flex-start; }
        .agreement-box input { width: 20px; height: 20px; margin: 0; accent-color: var(--success); cursor: pointer; }
        .agreement-text b { text-decoration: underline; color: var(--accent); cursor: pointer; }

        /* –ö–Ω–æ–ø–∫–∏ –∏ –ø—Ä–æ—á–µ–µ */
        .price-btn { width: 100%; background: var(--success); color: white; border: none; padding: 16px; border-radius: 12px; font-weight: 700; font-size: 16px; cursor: pointer; margin-top: 15px; }
        
        /* –¢–µ–∫—Å—Ç –æ—Ñ–µ—Ä—Ç—ã */
        #legal-full { font-size: 12px; color: #ccc; height: 300px; overflow-y: scroll; padding: 10px; background: #000; border: 1px solid #333; border-radius: 8px; line-height: 1.5; }
    </style>
</head>
<body>

    <div id="screen-main" class="screen active">
        <h2>SPARK AUTO</h2>

        <div class="selector">
            <div id="card-rf" class="type-card selected-rf" onclick="setType('RF')">üá∑üá∫ –†–§</div>
            <div id="card-cn" class="type-card" onclick="setType('CN')">üá®üá≥ –ö–ò–¢–ê–ô</div>
        </div>

        <div id="prices-rf">
            <div class="price-item selected" onclick="setPrice(this, '99‚ÇΩ', 'Spark Base')">
                <div class="price-info"><b>Spark Base</b><span>–£–≥–æ–Ω, –∑–∞–ª–æ–≥–∏, –∞—Ä–µ—Å—Ç—ã</span></div>
                <div class="price-tag">99‚ÇΩ</div>
            </div>
            <div class="price-item" onclick="setPrice(this, '199‚ÇΩ', 'Spark Standard')">
                <div class="price-info"><b>Spark Standard</b><span>Base + –ü—Ä–æ–±–µ–≥–∏ –∏ –í–ª–∞–¥–µ–ª—å—Ü—ã</span></div>
                <div class="price-tag">199‚ÇΩ</div>
            </div>
            <div class="price-item" onclick="setPrice(this, '299‚ÇΩ', 'Spark Full')">
                <div class="price-info"><b>Spark Full</b><span>–î–¢–ü, –†–µ–º–æ–Ω—Ç—ã, –¢–∞–∫—Å–∏, –§–æ—Ç–æ</span></div>
                <div class="price-tag">299‚ÇΩ</div>
            </div>
        </div>

        <div id="prices-cn" style="display:none">
            <div class="price-item" onclick="setPrice(this, '490‚ÇΩ', 'China Lite')">
                <div class="price-info"><b>China Lite</b><span>–¢–µ—Ö-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –≠–∫—Å–ø–æ—Ä—Ç</span></div>
                <div class="price-tag">490‚ÇΩ</div>
            </div>
            <div class="price-item" onclick="setPrice(this, '1490‚ÇΩ', 'China Full')">
                <div class="price-info"><b>China Full</b><span>–ò—Å—Ç–æ—Ä–∏—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –≤ –ö–ù–†</span></div>
                <div class="price-tag">1490‚ÇΩ</div>
            </div>
        </div>

        <input type="text" id="vin-input" placeholder="–í–í–ï–î–ò–¢–ï VIN / –ù–û–ú–ï–†">
        
        <div class="agreement-box">
            <input type="checkbox" id="check-legal">
            <div class="agreement-text">
                –Ø –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é, —á—Ç–æ –æ–∑–Ω–∞–∫–æ–º–∏–ª—Å—è —Å <b onclick="show('screen-legal')">–æ—Ñ–µ—Ä—Ç–æ–π</b>. –Ø –æ—Å–æ–∑–Ω–∞—é, —á—Ç–æ –≤—Å—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ª–µ–∂–∏—Ç –Ω–∞ –º–Ω–µ.
            </div>
        </div>
    </div>

    <div id="screen-legal" class="screen">
        <h2>–û–¢–ö–ê–ó –û–¢ –û–¢–í–ï–¢–°–¢–í–ï–ù–ù–û–°–¢–ò</h2>
        <div id="legal-full">
            <p>1. <b>–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:</b> –°–µ—Ä–≤–∏—Å Spark Auto –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —É—Å–ª—É–≥–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (–ì–ò–ë–î–î, –§–ù–ü, –†–°–ê, –†–µ–µ—Å—Ç—Ä—ã –ö–ù–†).</p>
            <p>2. <b>–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∫–ª–∏–µ–Ω—Ç–∞:</b> –ù–∞–∂–∏–º–∞—è –∫–Ω–æ–ø–∫—É "–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É", –ö–ª–∏–µ–Ω—Ç –±–µ–∑–æ–≥–æ–≤–æ—Ä–æ—á–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ –≤—Å—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –∞ —Ç–∞–∫–∂–µ –∑–∞ –ª—é–±—ã–µ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è —Å –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–º, –ª–µ–∂–∏—Ç –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –Ω–∞ –ö–ª–∏–µ–Ω—Ç–µ.</p>
            <p>3. <b>–û—Ç–∫–∞–∑ –æ—Ç –≥–∞—Ä–∞–Ω—Ç–∏–π:</b> –°–µ—Ä–≤–∏—Å –Ω–µ –Ω–µ—Å–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –Ω–µ–ø–æ–ª–Ω–æ—Ç—É –¥–∞–Ω–Ω—ã—Ö –≤ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö –±–∞–∑–∞—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.</p>
            <p>4. <b>–û–ø–ª–∞—Ç–∞:</b> –£—Å–ª—É–≥–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ–∫–∞–∑–∞–Ω–Ω–æ–π –≤ –º–æ–º–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ—Ç—á–µ—Ç.</p>
        </div>
        <button class="price-btn" style="background:var(--accent)" onclick="show('screen-main')">–Ø –ü–†–û–ß–ò–¢–ê–õ –ò –°–û–ì–õ–ê–°–ï–ù</button>
    </div>

    <div id="screen-loading" class="screen" style="text-align:center; padding-top: 50px;">
        <div style="font-size:40px; animation: spin 1s infinite linear; width:40px; height:40px; border:4px solid #333; border-top-color:var(--accent); border-radius:50%; margin:0 auto 20px;"></div>
        <h3>–ü–†–û–í–ï–†–ö–ê –ü–û –ë–ê–ó–ê–ú...</h3>
        <p style="color:#888; font-size:12px">–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å —Å–µ—Ä–≤–µ—Ä–∞–º–∏ –ì–ò–ë–î–î / –ö–ù–†</p>
    </div>

    <div id="screen-result" class="screen">
        <h2 style="color:var(--success)">–û–¢–ß–ï–¢ –°–§–û–†–ú–ò–†–û–í–ê–ù!</h2>
        <div style="background:var(--card); padding:20px; border-radius:12px; margin-bottom: 20px;">
            <p style="display:flex; justify-content:space-between; margin:10px 0;"><span>VIN:</span> <b id="res-vin">-</b></p>
            <p style="display:flex; justify-content:space-between; margin:10px 0;"><span>–¢–∞—Ä–∏—Ñ:</span> <b id="res-tariff">-</b></p>
            <div style="height:1px; background:#333; margin:10px 0;"></div>
            <p style="display:flex; justify-content:space-between; margin:10px 0; color:var(--success); font-size:18px;"><span>–ö –û–ü–õ–ê–¢–ï:</span> <b id="res-price">-</b></p>
        </div>
        <button class="price-btn" onclick="pay()">–û–ü–õ–ê–¢–ò–¢–¨ –ò –ü–û–õ–£–ß–ò–¢–¨</button>
        <p style="text-align:center; font-size:11px; color:#

